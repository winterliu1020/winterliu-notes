## 栈

先进后出，从操作上看是一种“操作受限”的数据结构，当然栈可以用数组和链表实现。那么仔细想想为什么不直接用数据或者链表呢，为什么要使用这种操作受到限制的结构呢？其实会发现数据或者链表过多的暴露了操作的接口，而栈只能从栈顶进行入栈或者出栈操作。

每一种数据结构都是有特定的应用场景的。

1. 栈在函数调用中的应用：一个 main 函数调用一个 add 函数，栈中会存储函数调用时的临时变量。当进入一个函数时，这个函数中的每一个临时变量都会以一个栈帧的形式入栈，当被调用函数执行完成后，返回之后，这个函数对应的所有栈帧都会出栈。
2. 栈在表达式求值时的应用：用两个栈，一个操作数栈、一个操作符栈
3. 栈在括号匹配时的应用：左括号入栈，右括号取栈顶元素进行匹配后将栈顶元素出栈

**如何用栈实现浏览器的前进和后退功能呢？**

也是用两个栈 X，Y，当不断的点击网页（前进） 比如 a,b,c，那么依次将 a,b,c 入栈 X，当后退的时候从 c 退回 b，那就需要将 c 从栈 X 出栈然后入栈 Y，但是如果你到网页 b 之后点击了一个新的网页 d，那么此时你无法再返回 c 了，所以你需要将栈 Y 清空。

![](https://winterliublog.oss-cn-beijing.aliyuncs.com/winterliu-notes/数据结构和算法之美/browser-go-back.png)

**问题1：为什么要用栈来实现函数的调用，可以用别的数据结构吗？**

因为函数调用的执行顺序符合栈的先进后出的特点，比如函数中局部变量的生命周期就是先定义的生命周期长，后定义的短。函数调用也是满足这个特点，只有当该函数内部调用的函数执行结束之后该函数才会结束。

其实并不是一定要用栈来实现函数调用，函数被调用时数据会发生什么变化呢？其实本质就是作用域，只要能够保证每进入一个新的函数都是一个新的作用域就行了。所以这里用栈很方便，每进入一个新函数，分配一段新的栈空间就行了，当这个被调用函数结束之后，恢复到原来的栈顶就行了。