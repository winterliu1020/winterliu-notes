### TCP、UDP

可靠不可靠、是否面向连接、缺点在于传输速度、所占用的资源、面向字节流还是报文段。。。

TCP为什么可靠：在传输数据前通过三次握手建立连接，传输数据时通过确认、窗口、拥塞控制、超时重传。。保证数据包一定到达。。传输完之后断开连接释放资源。。。

那你想想你需要维护这一整套机制，你怎么去维护呢？比如tcp头部得20-60字节，而udp只要8个，头部中多的这些字节就是用于维护这套机制啊，所以说tcp占用资源多嘛。。而且tcp是面向连接的嘛，所以你还得在服务器端维持这个连接的状态。。

![](https://winterliublog.oss-cn-beijing.aliyuncs.com/notes/20211215170722.png)

### 那TCP怎么保证可靠传输呢？

还是从传输之前、传输中、传输后。。来看，其实本质上就是给每个数据包打上了一个编号，有了编号才有了后续的所有机制。。比如数据包确认就是确认这个编号的数据包已经到达了，然后发一个ACK响应包、超时重传。。

因为面向字节流，所以可以将数据分割成最合适发送的数据块。

给数据包编号。

校验和：检测数据在传输过程中没有发生变化。

TCP可以利用包序号丢弃重复的数据。

流量控制：TCP的接收方和发送方都会设置一片固定大小的缓冲区域，当接收方缓冲区域快满了时，接收方可以提示发送方降低发送速度，防止丢包。这里主要用的是一个可变的滑动窗口。

拥塞控制：发送拥塞时，减少数据发送。

ARQ协议：每发送完一个分组就停止发送，等待对方确认，发送方收到确认后再发下一个分组。

超时重传：发送方发了一个分组就会启动一个定时器，等待目的端确认收到这个分组，如果没有及时收到确认，则重发该分组。

## 打开一个网页用到哪些协议？

![](https://winterliublog.oss-cn-beijing.aliyuncs.com/notes/20211216120032.png)

DNS，TCP，IP，OSPF，ARP，HTTP

### 状态码

1xx  接收的请求正在处理

2xx  请求正常处理完毕

3xx  需要附加的操作以完成请求

4xx 客户端错误，也就是你客户端的请求发给服务器，服务器无法处理，本质上是说客户端发的请求有问题，我服务器端我都不认识。。。

5xx 服务器错误，这时服务器能认识客户端的请求，但是处理请求中出现错误，当然这是服务器代码的错误，比如就是一个简单的空指针错误。。
