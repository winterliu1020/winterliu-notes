### 概述
Java垃圾收集机制是为了避免内存溢出异常而做的努力

垃圾收集(Garbage Collection)需要完成的3件事情：
- 哪些内存需要回收？
- 什么时候回收？
- 如何回收？

目前其实内存的动态分配、内存的回收技术已经相当成熟，那么为什么要了解GC和内存分配呢？因为当排查各种内存溢出、内存泄漏问题时，当垃圾收集成为系统达到更高并发量的瓶颈时，就需要了解GC和内存如何分配。  

### 1. 对象已死吗？

1. 使用引用计数法(很难判断对象之间相互循环引用的问题)
2. 可达性分析算法(GC Roots为起点，通过引用链 看对象是否可达)

### 2. 再谈引用
什么是引用？就是某一块区域中的数据是另一块内存的起始地址。JDK1.2之后分为强引用、软引用、弱引用、虚引用。

### 3. 回收方法区

在方法区中进行垃圾回收一般性价比很低，而在堆中，尤其是在新生代中，进行一次垃圾收集一般可以回收70％~95％的空间，而方法区(永久代)的垃圾收集效率远低于此。  

永久代一般收集：废弃常量、无用的类。  
无用的类：

- 该类所有的实例都已被回收，即Java堆中不存在该类的任何实例。
- 加载该类的ClassLoader已被回收。
- 该类对应的java.lang.Class对象没有在任何地方被引用，无法在任何地方通过反射访问该类的方法。